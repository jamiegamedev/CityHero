<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="timer" sid="7601131313519906" static="0" type="number">0</variable>
        <variable constant="0" name="health" sid="140231717750104" static="0" type="number">5</variable>
        <variable constant="0" name="EnemyState" sid="2940499343766213" static="0" type="number">0</variable>
        <comment>KEYBOARD CONTROLS</comment>
        <event-block sid="4829187660266104">
            <conditions>
                <condition id="2" name="Key is down" sid="8115290971315861" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="5647933808174639" type="playerCenter">
                    <param id="0" name="Speed">-130</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1412264332437754">
            <conditions>
                <condition id="2" inverted="1" name="Key is down" sid="9255397876912325" type="Keyboard">
                    <param id="0" name="Key">37 (Left arrow)</param>
                </condition>
                <condition id="2" inverted="1" name="Key is down" sid="2493927482091552" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="9401506476086206" type="playerCenter">
                    <param id="0" name="Speed">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7004000084943757">
            <conditions>
                <condition id="2" name="Key is down" sid="2587657774789591" type="Keyboard">
                    <param id="0" name="Key">39 (Right arrow)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="6509720601577172" type="playerCenter">
                    <param id="0" name="Speed">130</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="4712641243602453">
            <conditions>
                <condition id="-2" name="On start of layout" sid="3444276181596996" type="System" />
            </conditions>
            <actions>
                <action behavior="Pin" id="0" name="Pin to object" sid="7773347947324659" type="playerCathcher">
                    <param id="0" name="Pin to">playerCenter</param>
                    <param id="1" name="Mode">0</param>
                </action>
            </actions>
        </event-block>
        <comment>TOUCH CONTROLS</comment>
        <event-block sid="6791535004571686">
            <conditions>
                <condition id="4" name="Is touching object" sid="9832509008847697" type="Touch">
                    <param id="0" name="Object">LeftTouch</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="6775779821939692" type="playerCenter">
                    <param id="0" name="Speed">-130</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7644358208678159">
            <conditions>
                <condition id="4" inverted="1" name="Is touching object" sid="7071965446308765" type="Touch">
                    <param id="0" name="Object">LeftTouch</param>
                </condition>
                <condition id="4" inverted="1" name="Is touching object" sid="1240054558359936" type="Touch">
                    <param id="0" name="Object">RightTouch</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="7437065393544269" type="playerCenter">
                    <param id="0" name="Speed">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="95399739876874">
            <conditions>
                <condition id="4" name="Is touching object" sid="7041197418378494" type="Touch">
                    <param id="0" name="Object">RightTouch</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="748285694970929" type="playerCenter">
                    <param id="0" name="Speed">130</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="993377412455942">
            <conditions>
                <condition id="-2" name="On start of layout" sid="3226670264788547" type="System" />
            </conditions>
            <actions>
                <action behavior="Pin" id="0" name="Pin to object" sid="6526703433621328" type="playerCathcher">
                    <param id="0" name="Pin to">playerCenter</param>
                    <param id="1" name="Mode">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5148792326870918">
            <conditions>
                <condition id="-2" name="On start of layout" sid="9239012479232088" type="System" />
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="1884667631597798" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <comment>GAME MECHANICS</comment>
        <comment>Enemy state 0 is idle, not attacks. After every major attack allows 2 second cool down and return to standard attacking 1</comment>
        <event-block sid="2306065257898089">
            <conditions>
                <condition id="-14" name="Compare variable" sid="9690297787950176" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="8008727545181571" type="center">
                    <param id="0" name="Speed">180</param>
                </action>
                <action id="-16" name="Wait" sid="6406833545272256" type="System">
                    <param id="0" name="Seconds">2</param>
                </action>
                <action id="-9" name="Set value" sid="6965964468564693" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9004736572731867">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="7746519850605167" type="System">
                    <param id="0" name="Interval (seconds)">0.01</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Add to" sid="5759862502377565" type="System">
                    <param id="0" name="Variable">timer</param>
                    <param id="1" name="Value">0.01</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3285891550463835">
            <conditions>
                <condition id="-1" name="Every tick" sid="2649720135431455" type="System" />
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="5575577143542913" type="TIMER">
                    <param id="0" name="Text">&quot;Timer: &quot;&amp; timer</param>
                </action>
            </actions>
        </event-block>
        <comment>Enemy standard attack mode aka 1. Fire randomnly every 1-5 seconds</comment>
        <event-block sid="2279946789673926">
            <conditions>
                <condition id="-14" name="Compare variable" sid="4126060248441867" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">1</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="7928936459553099" type="System">
                    <param id="0" name="Interval (seconds)">random(1,5)</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="5165323945282018" type="DebugBox">
                    <param id="0" name="Text">&quot;Default Attack&quot;</param>
                </action>
                <action id="0" name="Spawn another object" sid="4333148732308947" type="center">
                    <param id="0" name="Object">bullet</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
            </actions>
        </event-block>
        <comment>Attack state 2. Enemy sprays bulletts in a circle for 2 seconds</comment>
        <event-block sid="664641409356101">
            <conditions>
                <condition id="-14" name="Compare variable" sid="4244370314510259" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">2</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="7790744200916492" type="System">
                    <param id="0" name="Interval (seconds)">0.15</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="1888301833517535" type="DebugBox">
                    <param id="0" name="Text">&quot;Attack2&quot;</param>
                </action>
                <action id="0" name="Spawn another object" sid="947385632956509" type="center">
                    <param id="0" name="Object">slowerBullet</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5062964379419354">
            <conditions>
                <condition id="-14" name="Compare variable" sid="2565109271057376" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-16" name="Wait" sid="5434925767469593" type="System">
                    <param id="0" name="Seconds">1.2</param>
                </action>
                <action id="-9" name="Set value" sid="4678163153833561" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <comment>bullets colide with shield they die</comment>
        <event-block sid="1492845490254988">
            <conditions>
                <condition id="0" name="On collision with another object" sid="8942564241266817" type="bullet">
                    <param id="0" name="Object">playerCathcher</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="3898005131330529" type="bullet" />
                <action id="-7" name="Set size" sid="6187297226922389" type="playerCathcher">
                    <param id="0" name="Width">140</param>
                    <param id="1" name="Height">40</param>
                </action>
                <action id="-16" name="Wait" sid="3721420708002163" type="System">
                    <param id="0" name="Seconds">0.1</param>
                </action>
                <action id="-7" name="Set size" sid="3957459958255054" type="playerCathcher">
                    <param id="0" name="Width">128</param>
                    <param id="1" name="Height">32</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2170522866173089">
            <conditions>
                <condition id="0" name="On collision with another object" sid="1499254821861213" type="slowerBullet">
                    <param id="0" name="Object">playerCathcher</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="7802696319134879" type="slowerBullet" />
                <action id="-7" name="Set size" sid="4979823435599272" type="playerCathcher">
                    <param id="0" name="Width">140</param>
                    <param id="1" name="Height">40</param>
                </action>
                <action id="-16" name="Wait" sid="8890703880631578" type="System">
                    <param id="0" name="Seconds">0.1</param>
                </action>
                <action id="-7" name="Set size" sid="4434766343351426" type="playerCathcher">
                    <param id="0" name="Width">128</param>
                    <param id="1" name="Height">32</param>
                </action>
            </actions>
        </event-block>
        <comment>state changer</comment>
        <event-block sid="9164627516152233">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="3328284333727432" type="System">
                    <param id="0" name="Interval (seconds)">random(10,30)</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="2285910760388867" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Value">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3127160954741278">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="2507136538998632" type="System">
                    <param id="0" name="Interval (seconds)">50</param>
                </condition>
            </conditions>
            <actions>
                <action id="-9" name="Set value" sid="5945441608420524" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Value">3</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2253230619583688">
            <conditions>
                <condition id="-14" name="Compare variable" sid="6130671218257428" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">3</param>
                </condition>
                <condition id="-6" name="Every X seconds" sid="3259498940619018" type="System">
                    <param id="0" name="Interval (seconds)">0.7</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="2574888063942053" type="DebugBox">
                    <param id="0" name="Text">&quot;Attack3&quot;</param>
                </action>
                <action id="-19" name="Rotate counter-clockwise" sid="3565455952882482" type="center">
                    <param id="0" name="Degrees">90</param>
                </action>
                <action id="0" name="Spawn another object" sid="9492598945474688" type="center">
                    <param id="0" name="Object">slowerBullet</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="8082152338292111">
            <conditions>
                <condition id="-14" name="Compare variable" sid="5122432354175197" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">3</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Rotate" id="0" name="Set speed" sid="7752762165779859" type="center">
                    <param id="0" name="Speed">0</param>
                </action>
                <action id="-16" name="Wait" sid="4900905488719955" type="System">
                    <param id="0" name="Seconds">4</param>
                </action>
                <action id="-9" name="Set value" sid="6456709922168131" type="System">
                    <param id="0" name="Variable">EnemyState</param>
                    <param id="1" name="Value">0</param>
                </action>
            </actions>
        </event-block>
        <comment>Receive Damage</comment>
        <event-block sid="91055332318731">
            <conditions>
                <condition id="-4" name="Is outside layout" sid="9669187063086116" type="bullet" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="4876185950099013" type="bullet" />
                <action id="0" name="Spawn another object" sid="5373909161885177" type="center">
                    <param id="0" name="Object">HitFlash</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
                <action behavior="ScrollTo" id="0" name="Shake" sid="2693258797369792" type="shaker">
                    <param id="0" name="Magnitude">30</param>
                    <param id="1" name="Duration">0.4</param>
                    <param id="2" name="Mode">0</param>
                </action>
                <action id="-11" name="Subtract from" sid="2603325506562091" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="1688255453671476">
            <conditions>
                <condition id="-4" name="Is outside layout" sid="4833569427582261" type="slowerBullet" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="8843403356589659" type="slowerBullet" />
                <action id="0" name="Spawn another object" sid="8984039942849913" type="center">
                    <param id="0" name="Object">HitFlash</param>
                    <param id="1" name="Layer">0</param>
                    <param id="2" name="Image point">0</param>
                </action>
                <action behavior="ScrollTo" id="0" name="Shake" sid="6949953454562317" type="shaker">
                    <param id="0" name="Magnitude">30</param>
                    <param id="1" name="Duration">0.4</param>
                    <param id="2" name="Mode">0</param>
                </action>
                <action id="-11" name="Subtract from" sid="9143617327292891" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Value">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3867719075131752">
            <conditions>
                <condition id="-14" name="Compare variable" sid="1925183085370802" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">5</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="3223274282654972" type="positiveHealth">
                    <param id="0" name="Width">256</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="2660387085954322">
            <conditions>
                <condition id="-14" name="Compare variable" sid="3919677677246764" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">4</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="6714038206118197" type="positiveHealth">
                    <param id="0" name="Width">200</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="492595573640546">
            <conditions>
                <condition id="-14" name="Compare variable" sid="3057731757384352" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">3</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="3387703720219105" type="positiveHealth">
                    <param id="0" name="Width">150</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="7558587526691509">
            <conditions>
                <condition id="-14" name="Compare variable" sid="4262367704015217" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">2</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="7808367463739531" type="positiveHealth">
                    <param id="0" name="Width">100</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9502997395299051">
            <conditions>
                <condition id="-14" name="Compare variable" sid="1433158310132258" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="4055925495642141" type="positiveHealth">
                    <param id="0" name="Width">50</param>
                </action>
            </actions>
        </event-block>
        <comment>LOSE CONDITIONS</comment>
        <event-block sid="7491160568662408">
            <conditions>
                <condition id="-14" name="Compare variable" sid="5698913364163131" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-5" name="Set width" sid="619305166776451" type="positiveHealth">
                    <param id="0" name="Width">0</param>
                </action>
                <action id="-3" name="Set position" sid="9289374477891052" type="Sprite2">
                    <param id="0" name="X">512</param>
                    <param id="1" name="Y">384</param>
                </action>
                <action id="-13" name="Set time scale" sid="6036123929874948" type="System">
                    <param id="0" name="Time scale">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="5930427189897673">
            <conditions>
                <condition id="0" name="On key pressed" sid="7351432980951836" type="Keyboard">
                    <param id="0" name="Key">32 (Space)</param>
                </condition>
                <condition id="-14" name="Compare variable" sid="6012588808523643" type="System">
                    <param id="0" name="Variable">health</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-21" name="Reset global variables" sid="5223057153184086" type="System" />
                <action id="-13" name="Set time scale" sid="7526894356322009" type="System">
                    <param id="0" name="Time scale">1.0</param>
                </action>
                <action id="-26" name="Restart layout" sid="3129207644442607" type="System" />
            </actions>
        </event-block>
    </events>
</c2eventsheet>
